import * as atob from "atob";

const token = "eyJhbGciOiJSUzUxMiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJodHRwczovL1BST0QtU1RBR0lORy5hdXRoLnNlYWxpZ2h0cy5pby8iLCJqd3RpZCI6IlBST0QtU1RBR0lORyxpLTA4MjJiMDE3Nzk2ZjkxZmY2LEFQSUdXLTg5ZDU0ZGE0LTUwNjQtNGJkNC04MDAxLTlkNzkwOTYyNzQzYSwxNDg4OTY1ODczODc3Iiwic3ViamVjdCI6IlNlYUxpZ2h0c0BpbnRlZ3JhdGlvbiIsImF1ZGllbmNlIjpbImFwaVJlYWQiLCJhcGlXcml0ZSJdLCJ4LXNsLXJvbGUiOiJhcGlSVyIsIngtc2wtc2VydmVyIjoiaHR0cHM6Ly9QUk9ELVNUQUdJTkctZ3cuc2VhbGlnaHRzLmNvL2FwaSIsInNsX2ltcGVyX3N1YmplY3QiOiIiLCJpYXQiOjE0ODg5NjU4NzN9.SFB1vsSyoA_XrwObKuFYGj_wYQjnl5Nlolfq5_bMv-Z3i0X7hZX9xskK-mZcqCvJ96Le8oP3DkpG_ov86knRFNAlZPPTgHE3dy4d6DyDEiOYaU8I7KhW94g6LLqHGGmTa1GsyULx5I7WnOEwNEJB0mUKLPZfbK0BWtDTBqWxzb4OBlajiIMt6KlKNOB0HDmbTzsCzA_qavcHk1_xh55jnQAjv1ggZ7MdREkyNKdR9t7-NMEMYG99pnCnSoHdNbZZkxQCXaUAaFKG6SpaMmED0ismpLZEBz8I2pnvLYyBWWpk_uRCjyR0ywBwNaPwXsh5QC5rTRP9Af6FO7HDYoU66GFFUVoB-mBy23C_NBJPabOtAzSQ4ezlbMYTrS4ukjxugwBODUM7GW4cVbDSE87TIRfljGJokgaSJqTrdOmGWk4aLkpcw7yPOGrJszs19qygK4toz3sTJPSM1U-zdPSpUGVnhse22LfAbLlWpRje99e-WvA4yXTnJyZIaDO57YCx5537LxGZcZCAkCgNoWA_6GhgK7PUlPe35_Iqz09ANiNR8uwJ8Qzcki0eJfIhSoDvpdj7ntgdVPQyK8DCE0kqQsYnEhu9-NqQ4hzUyLRYrXRSvxpHVnS1_gKf6-AM0KuwL4LYZZgqJZ9L3rcR6iDgpqruWJssQ0u1gjREqmsQte0";

function parseToken(token) {
    let parts = token.split(".").map(p => atob(p));
    let data = JSON.parse(parts[1]);
    return data["x-sl-server"];
}

console.log(parseToken(token));